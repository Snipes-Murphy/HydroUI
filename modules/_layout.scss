@each $magin-side, $m-value in $margin-sides {
  @each $margin, $margin-value in $margins {
    @if $magin-side == "x" {
      .m#{$magin-side}-#{$margin} {
        margin: 0 $margin-value;
      }
    } @else if $magin-side == "y" {
      .m#{$magin-side}-#{$margin} {
        margin: $margin-value 0;
      }
    } @else {
      .m#{$magin-side}-#{$margin} {
        margin-#{$m-value}: $margin-value;
      }
    }
  }
}

@each $breakpoint, $break-value in $breakpoints {
  @include breakpoint-in($breakpoint) {
    @each $magin-side, $m-value in $margin-sides {
      @each $margin, $margin-value in $margins {
        @if $magin-side == "x" {
          .m#{$magin-side}-#{$margin}-#{$breakpoint} {
            margin: 0 $margin-value;
          }
        } @else if $magin-side == "y" {
          .m#{$magin-side}-#{$margin}-#{$breakpoint} {
            margin: $margin-value 0;
          }
        } @else {
          .m#{$magin-side}-#{$margin}-#{$breakpoint} {
            margin-#{$m-value}: $margin-value;
          }
        }
      }
    }
  }
}

$widths: (
  '25': 25%,
  '50': 50%,
  '75': 75%,
  '100': 100%
);

@each $width, $percent in $widths {
  .w-#{$width} {
    width: $percent;
  }
}

$pull-modes: (
  "right",
  "left"
);

@each $mode in $pull-modes {
  .pull-#{$mode} {
    float: $mode;
  }
}

// Containers

.container {
  margin: auto;
  position: relative;
  width: map-get($container-widths, 'xxxlg');
}

.container-rs {
  margin: auto;
  position: relative;
  width: map-get($container-rs-widths, 'xxxlg');
}

$keys: map-keys($breakpoints);
$map-reversed: ();

@for $i from length($keys) through 1 {
  $map-reversed: map-merge(
    $map-reversed,
    (nth($keys, $i): map-get($breakpoints, nth($keys, $i)))
  );
}

@each $breakpoint, $value in $map-reversed {
  @include breakpoint-in($breakpoint) {
    .container {
      padding: 0 map-get($container-paddings, $breakpoint);
      width: map-get($container-widths, $breakpoint);
    }

    .container-rs {
      width: map-get($container-rs-widths, $breakpoint);
    }
  }
}
